<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>camera</title>
  <link rel="stylesheet" href="assets/stylesheets/form.css">
 
<!-- include aframe obviously -->
<script src="https://aframe.io/releases/0.6.0/aframe.min.js"></script>
<!-- include ar.js for a-frame -->
<script src="https://jeromeetienne.github.io/AR.js/aframe/build/aframe-ar.js"></script>
<script src="https://rawgit.com/donmccurdy/aframe-extras/master/dist/aframe-extras.loaders.min.js"></script>
<body style='margin : 0px; overflow: hidden;'>
      <canvas id="mycanvas" style="width:100vw; height:100vh;">

      
        <a-scene embedded arjs="trackingMethod:best;">
          <a-assets>
              <a-asset-item id="airplane_asset_mtl" src="https://raw.githubusercontent.com/lennardVK/theGiveAway/master/assets/campus_big.mtl"></a-asset-item>
              <a-asset-item id="airplane_asset_obj" src="https://raw.githubusercontent.com/lennardVK/theGiveAway/master/assets/campus_big.obj"></a-asset-item>
          </a-assets>
            

          <a-camera>
          </a-camera>
         
          
            
            <a-marker type='pattern' url='https://raw.githubusercontent.com/lennardVK/theGiveAway/master/marker/test.patt'>
                
              <a-entity obj-model="obj: #airplane_asset_obj; mtl: #airplane_asset_mtl" scale="0.002 0.002 0.002"></a-entity>
                      
            </a-marker>
             
           
          <a-camera-static/>
        </a-scene>
      </canvas>

  <img style"height: 30vh; width: 30vw; position:absolute; left:0; bottom:0; z-index:1000000000;" src="" alt="" id="screen">
  <button class="camera_remove_btn"  onclick="getSnapshot()">Snapshot</button>
  
<!---
  <a class="tga_form_link" href='index.html'>
    <button class="camera_remove_btn" >Back</button>
    
  </a>
-->
    <script>
      
   function getSnapshot(){
    const video = document.getElementsByTagName('video');

    let canvas = document.getElementById('mycanvas')
    let dataURL = canvas.toDataURL('image/jpg')
    let element = document.getElementById('screen')
    console.log(video)
    console.log(canvas.getContext('2d').drawImage(video[0], 0, 0))
    canvas.getContext('2d').drawImage(video[0], 0, 0)
    
  
    element.src = dataURL

    console.log('snapshot',dataURL)
    
   }
      
    </script>

</body>
</html>